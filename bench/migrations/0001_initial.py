# Generated by Django 5.1.1 on 2025-11-10 05:50

from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Metric',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Timestamp when this metric entry was stored.')),
                ('source', models.CharField(choices=[('github', 'GitHub Actions'), ('jenkins', 'Jenkins'), ('codepipeline', 'AWS CodePipeline')], default='github', help_text='CI/CD platform that produced this run.', max_length=32)),
                ('workflow', models.CharField(blank=True, default='', help_text='Name of workflow/job (e.g. GitHub workflow name or Jenkins job).', max_length=128)),
                ('run_id', models.CharField(blank=True, default='', help_text='Unique run/build ID from the CI/CD tool.', max_length=64)),
                ('run_attempt', models.CharField(blank=True, default='', help_text='Attempt number for this run (if the tool supports retries).', max_length=16)),
                ('branch', models.CharField(blank=True, default='', help_text='Git branch name for this run.', max_length=128)),
                ('commit_sha', models.CharField(blank=True, default='', help_text='Git commit SHA for this run.', max_length=64)),
                ('lce', models.FloatField(default=0.0, help_text='Layer Cache Efficiency – how effectively Docker cache was reused.')),
                ('prt', models.FloatField(default=0.0, help_text='Pipeline Recovery Time – time to recover from a failing run to a successful one.')),
                ('smo', models.FloatField(default=0.0, help_text='Secrets Management Overhead – time/latency introduced by secrets handling.')),
                ('dept', models.FloatField(default=0.0, help_text='Dynamic Environment Provisioning Time – time Terraform takes to spin up/tear down infra.')),
                ('clbc', models.FloatField(default=0.0, help_text='Cross-Layer Build Consistency – consistency of Docker image layers across runs/tools.')),
                ('notes', models.CharField(blank=True, default='', help_text='Optional notes (e.g., scenario type: clean build, cache warm, failure-recovery, etc.).', max_length=255)),
            ],
            options={
                'verbose_name': 'Metric',
                'verbose_name_plural': 'Metrics',
                'ordering': ['-created_at'],
            },
        ),
    ]
